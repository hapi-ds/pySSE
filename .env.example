# Sample Size Estimator Configuration
# Copy this file to .env and update values as needed
# All settings have sensible defaults - only override what you need to change

# ============================================================================
# APPLICATION SETTINGS
# ============================================================================

# Application title displayed in the UI
# Default: "Sample Size Estimator"
APP_TITLE="Sample Size Estimator"

# Application version for tracking and reporting
# Update this when deploying new versions
# Default: "0.1.0"
APP_VERSION="0.1.0"

# ============================================================================
# LOGGING CONFIGURATION
# ============================================================================

# Logging level controls verbosity of logs
# Options: DEBUG (most verbose), INFO (recommended), WARNING, ERROR (least verbose)
# DEBUG: Detailed information for diagnosing problems
# INFO: General informational messages about application operation
# WARNING: Warning messages for potentially harmful situations
# ERROR: Error messages for serious problems
# Default: "INFO"
LOG_LEVEL="INFO"

# Path to log file (relative to project root)
# Directory will be created automatically if it doesn't exist
# Logs are written in JSON format for easy parsing and analysis
# Default: "logs/app.log"
LOG_FILE="logs/app.log"

# Log output format
# Options: 
#   - json: Structured JSON format (recommended for production, easy to parse)
#   - text: Human-readable text format (useful for development)
# Default: "json"
LOG_FORMAT="json"

# ============================================================================
# VALIDATION SETTINGS
# ============================================================================

# SHA-256 hash of the validated calculation engine
# This hash is used to verify that the calculation engine has not been modified
# since validation testing was completed
# 
# IMPORTANT: This hash was generated from validation certificate on 2026-02-18
# All 246 tests passed - calculation engine is validated
# 
# To update this hash after code changes:
# 1. Make your changes to the calculation engine
# 2. Run the full test suite: uv run pytest
# 3. Generate a new validation certificate: uv run python scripts/generate_validation_certificate.py
# 4. Copy the validated hash from the certificate to this setting
# 5. Document the change in docs/VALIDATED_HASH_HISTORY.md
# 
# Set to empty string or remove to disable validation checking (not recommended for production)
# Default: (validated hash from latest validation certificate)
VALIDATED_HASH="a4826d4db0e60972182dada4617a3c12cbff54167676b7a1a5d7e55c43482e1e"

# Path to the calculation engine file to be validated
# This should point to the main calculations module
# Default: "src/sample_size_estimator/calculations/__init__.py"
CALCULATIONS_FILE="src/sample_size_estimator/calculations/__init__.py"

# ============================================================================
# REPORT SETTINGS
# ============================================================================

# Directory where PDF reports will be saved
# Directory will be created automatically if it doesn't exist
# Reports include calculation results and validation information
# Default: "reports"
REPORT_OUTPUT_DIR="reports"

# Author name to include in generated PDF reports
# This appears in the report metadata and footer
# Default: "Sample Size Estimator System"
REPORT_AUTHOR="Sample Size Estimator System"

# ============================================================================
# STATISTICAL DEFAULTS
# ============================================================================

# Default confidence level (%) for calculations
# This value is pre-filled in the UI but can be changed by users
# Typical values: 90, 95, 99
# Range: 0.01 to 99.99
# Default: 95.0
DEFAULT_CONFIDENCE=95.0

# Default reliability level (%) for calculations
# This value is pre-filled in the UI but can be changed by users
# Typical values: 90, 95, 99
# Range: 0.01 to 99.99
# Default: 90.0
DEFAULT_RELIABILITY=90.0

# ============================================================================
# PLAYWRIGHT UI TESTING SETTINGS
# ============================================================================

# IMPORTANT: Playwright environment variables should NOT be added to the .env file
# because they conflict with the main AppSettings configuration.
# 
# Instead, set these as environment variables when running Playwright tests:
#
# Windows PowerShell:
#   $env:PLAYWRIGHT_HEADLESS="false"; uv run pytest -m playwright
#
# Windows CMD:
#   set PLAYWRIGHT_HEADLESS=false && uv run pytest -m playwright
#
# Linux/Mac:
#   PLAYWRIGHT_HEADLESS=false uv run pytest -m playwright
#
# Available Playwright environment variables:
# - PLAYWRIGHT_HEADLESS: Run browser in headless mode (default: true)
#     Set to "false" to see the browser window during tests (useful for debugging)
# - PLAYWRIGHT_STREAMLIT_PORT: Port for Streamlit during tests (default: 8501)
# - PLAYWRIGHT_STREAMLIT_HOST: Host address (default: localhost)
# - PLAYWRIGHT_BROWSER_TYPE: Browser to use - chromium, firefox, webkit (default: chromium)
# - PLAYWRIGHT_TIMEOUT: Timeout in milliseconds (default: 30000)
# - PLAYWRIGHT_SCREENSHOT_DIR: Directory for failure screenshots (default: reports/screenshots)
#
# Example test commands:
#   # Run all Playwright tests in headless mode (CI/CD)
#   uv run pytest -m playwright -q
#
#   # Run Playwright tests with visible browser (debugging)
#   $env:PLAYWRIGHT_HEADLESS="false"; uv run pytest -m playwright -v
#
#   # Run specific Playwright test file
#   uv run pytest tests/test_ui_playwright_attribute.py -q
#
# Troubleshooting:
# - If tests timeout waiting for UI elements, try running with PLAYWRIGHT_HEADLESS=false
#   to see what's happening in the browser
# - Ensure no other Streamlit instance is running on port 8501
# - Check reports/screenshots/ for screenshots of failed tests
# - The Streamlit app must start successfully for tests to run

# ============================================================================
# DEPLOYMENT NOTES
# ============================================================================
#
# For production deployment:
# 1. Set LOG_LEVEL to "INFO" or "WARNING"
# 2. Ensure VALIDATED_HASH is set to the current validated hash
# 3. Set REPORT_OUTPUT_DIR to a persistent storage location
# 4. Consider setting LOG_FILE to a monitored location
# 5. Update APP_VERSION to match your deployment version
#
# For development:
# 1. Set LOG_LEVEL to "DEBUG" for detailed logging
# 2. LOG_FORMAT can be "text" for easier reading
# 3. VALIDATED_HASH can be empty to skip validation checks
# 4. Set PLAYWRIGHT_HEADLESS to false for debugging UI tests
#
# For testing:
# 1. Use a separate .env.test file with test-specific settings
# 2. Set REPORT_OUTPUT_DIR to a temporary directory
# 3. Set LOG_FILE to a test-specific log file
# 4. Set PLAYWRIGHT_HEADLESS to true for CI/CD environments
#
# ============================================================================
